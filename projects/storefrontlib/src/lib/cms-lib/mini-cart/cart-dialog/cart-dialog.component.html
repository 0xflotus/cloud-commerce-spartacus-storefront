<h1 mat-dialog-title>
    <span>Cart</span>
</h1>

<ng-container *ngIf="data.cart$ | async as cart">
    <div mat-dialog-content>
        <p *ngIf="!cart?.totalItems">
            You don't have any products in your cart.
        </p>
        <div *ngIf="cart?.totalItems">
            <ul class="cart-item-list">
                <li class="cart-item-row" *ngFor="let entry of ((data.entries$ | async) | slice:0:data.showProductCount)" [routerLink]="['/product', entry.product.code]"
                    (click)="closeDialog()">
                    <y-picture [imageContainer]="entry.product.images?.PRIMARY" imageFormat="cartIcon"></y-picture>
                    <div class="cart-item-text">
                        <a>{{entry.product.name}}</a>
                        <p>
                            {{entry.quantity}}
                            <span *ngIf=" entry.quantity===1 ">piece</span>
                            <span *ngIf="entry.quantity> 1">pieces</span>
                            for {{entry.totalPrice.formattedValue}}</p>
                    </div>
                    <i class="cart-item-delete" (click)="removeEntry(entry, $event)">
                        <mat-icon>delete</mat-icon>
                    </i>
                </li>
            </ul>

            <y-banner [component]="data.banner"></y-banner>

            <mat-list>
                <mat-divider></mat-divider>
                <mat-list-item>
                    <mat-icon mat-list-avatar>monetization_on</mat-icon>
                    <h4 mat-line>{{cart?.totalPrice.formattedValue}}</h4>
                </mat-list-item>
            </mat-list>
        </div>
    </div>
</ng-container>

<div mat-dialog-actions>
    <button mat-raised-button color="primary" mat-dialog-close>Continue Shopping</button>
    <button routerLink="/cart" mat-raised-button color="accent" mat-dialog-close *ngIf="(data.entries$ | async)">Checkout</button>
</div>