<table class="table y-cart-item" [formGroup]="form">
    <thead *ngIf="!isMobile">
      <tr>
        <th scope="col">Description</th>
        <th scope="col"> </th>
        <th scope="col">Item price</th>
        <th scope="col">Qty</th>
        <th scope="col">Total</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let entry of entries" [formGroupName]="entry.product.code">
        <td>
          <a [routerLink]="['/product', entry.product.code]">
            <y-picture [imageContainer]="entry.product.images?.PRIMARY" imageFormat="thumbnail"></y-picture>
          </a>
        </td>
        <td>
          <div class="y-cart-item__description-list" role="list">
            <div class="y-cart-item__item-title" role="listitem">
              <a *ngIf="!disableProductLink; else disabledProductLink" [routerLink]="['/product', entry.product.code]">
                <span class="item__name">{{entry.product.name}}</span>
              </a>
              <ng-template #disabledProductLink>
                <span class="item__name">{{entry.product.name}}</span>
              </ng-template>
            </div>
            <div class="y-cart-item__item-id" role="listitem">ID {{entry.product.code}}</div>
            <br />
            <div *ngIf="entry.product.variantOptionQualifiers?.length > 0">
              <div role="listitem" *ngFor="let variant of entry.product.variantOptionQualifiers">
                <span class="y-cart-item__item--desc" *ngIf="!isMobile">{{variant.name}}</span>
                <div class="table--mobile">{{variant.name}}</div>
                <span class="y-cart-item__item--value">{{variant.value}}</span>
              </div>
            </div>
            <br />
            <div class="y-cart-item__item-unavailable" *ngIf="isProductOutOfStock(entry)" role="listitem"> {{ entry.product.stock?.stockLevelStatus | uppercase }}</div>

            <div
              class="y-cart-item__item-promo"
              role="listitem"
              *ngFor="let promotion of getPromotionForEntry(entry)"
              [innerHTML]="promotion.description"
            >
            </div>
          </div>
        </td>
        <td>
          <div class="table--mobile">Item price</div>
          <div class="y-cart-item__price" aria-label="item price">
            {{entry.basePrice?.formattedValue}}
          </div>
        </td>

        <td>
          <div class="table--mobile">Qty</div>
          <div *ngIf="isReadOnly" class="y-cart-item__qty">1</div>
          <div *ngIf="!isReadOnly">
            <y-item-counter [step]="1" [min]="1" [max]="entry.product.stock?.stockLevel || 1000" [async]="true" (update)="updateEntry($event, entry)"
              formControlName="quantity">
            </y-item-counter>
          </div>
        </td>
        <td>
          <div class="table--mobile">Total</div>
          <div class="y-cart-item__total" tabindex="0" aria-label="item total"> {{entry.totalPrice.formattedValue}}</div>
          <a *ngIf="!isReadOnly" href="#" class="y-cart-item__remove" [routerLink]="" (click)="removeEntry(entry)"> Remove</a>
        </td>
      </tr>
    </tbody>
  </table>
