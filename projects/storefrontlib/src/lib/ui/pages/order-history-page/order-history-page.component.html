<div class="order-history-page-container">
  <div class="order-history-header">
    <div>
      Breadcrumbs / Breadcrumbs
    </div>
    <ng-container *ngIf=" orders$ | async as orders ">
      <h3>{{orders.orders.length}} orders found in your Order History</h3>
    </ng-container>
  </div>
  <div class="order-history-body">
    <div class="order-table-container">
      <ng-container *ngIf="orders$ | async as orders">
        <y-order-history-controls [numberOfPages]="orders.pagination.totalPages" (viewPageEvent)="viewPage($event)"></y-order-history-controls>
        <table>
          <thead>
            <th>Ordered</th>
            <th>Order number</th>
            <th>Order Total</th>
            <th>Status</th>
          </thead>
          <tbody>
            <tr *ngFor="let order of orders.orders">
              <td>{{createDateString(order.placed)}}</td>
              <td>
                <a href="/">{{order.code}}</a>
              </td>
              <td>{{order.total.formattedValue}}</td>
              <td>{{order.statusDisplay}}</td>
            </tr>
          </tbody>
        </table>
        <y-order-history-controls [numberOfPages]="orders.pagination.totalPages" [sort]="orders.pagination.sort" (viewPageEvent)="viewPage($event)"></y-order-history-controls>
      </ng-container>
    </div>
  </div>
</div>